<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Employee Login • Beach Trivia</title>
  <link rel="stylesheet" href="/login.css?v=2">
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
</head>
<body class="page">
  <header class="topbar">
    <div class="brand">
      <img src="/images/BTlogo.png" alt="Beach Trivia" class="brand-logo" onerror="this.style.display='none'">
      <div class="brand-text">
        <h1 class="title">Employee Login</h1>
        <p class="subtitle">Create memorable experiences with Beach Trivia.</p>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="col left">
      <div class="role-pills" aria-label="Choose dashboard">
        <button id="employee-toggle" type="button" class="pill is-active">Host</button>
        <button id="admin-toggle" type="button" class="pill">Admin</button>
      </div>

      <!-- Keep select for compatibility with existing login.js (selectedRole / ROLE_DEST) -->
      <label class="sr-only" for="roleSelect">Role</label>
      <select id="roleSelect" class="select">
        <option value="host" selected>Host</option>
        <option value="admin">Admin</option>
        <option value="social">Social</option>
        <option value="writer">Writer</option>
        <option value="supply">Supply</option>
        <option value="regional">Regional</option>
      </select>

      <form id="loginForm" class="card form" autocomplete="on">
        <div class="field">
          <label for="username">Email</label>
          <input id="username" name="email" type="email" inputmode="email" autocomplete="username"
                 placeholder="Enter your email" required />
        </div>

        <div class="field">
          <label for="password">Password</label>
          <input id="password" name="current-password" type="password" autocomplete="current-password"
                 placeholder="Enter your password" required />
        </div>

        <div class="row between v-center">
          <label class="check"><input id="rememberMe" type="checkbox" /> Remember me</label>
          <a id="forgotPassword" href="#" class="link">Forgot password?</a>
        </div>

        <button id="loginButton" type="submit" class="btn primary">
          <span id="loginButtonText">Login</span>
          <span aria-hidden="true"> →</span>
        </button>

        <div class="or">or</div>

        <button id="googleButton" type="button" class="btn google">
          <svg aria-hidden="true" width="18" height="18" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.6 20.5H42v-.1H24v7.2h11.3C33.7 31.6 29.3 34.9 24 34.9c-7 0-12.7-5.7-12.7-12.7S17 9.5 24 9.5c3.2 0 6.1 1.2 8.3 3.2l5.1-5.1C33.6 4.7 29 2.9 24 2.9 12.3 2.9 3 12.2 3 23.9S12.3 45 24 45c11.1 0 21-8.1 21-21 0-1.6-.2-3.1-.4-4.5z"/><path fill="#FF3D00" d="M6.3 14.7l5.9 4.3C13.6 15 18.4 11.7 24 11.7c3.2 0 6.1 1.2 8.3 3.2l5.1-5.1C33.6 4.7 29 2.9 24 2.9 16.2 2.9 9.5 7.3 6.3 14.7z"/><path fill="#4CAF50" d="M24 45c5.2 0 10-2 13.5-5.4l-6.2-5.1c-2 1.4-4.6 2.3-7.3 2.3-5.2 0-9.6-3.3-11.2-8l-6 4.6C9.5 40.7 16.2 45 24 45z"/><path fill="#1976D2" d="M43.6 20.5H42v-.1H24v7.2h11.3c-1.1 3.3-3.5 5.9-6.6 7.3l6.2 5.1C37.9 38.5 42 33.1 42 24.9c0-1.5-.1-3-.4-4.4z"/></svg>
          <span>Continue with Google</span>
        </button>

        <p class="help">Problems signing in? Contact your manager or support.</p>
        <!-- hidden mirror of the pills for older code paths -->
        <input id="userType" type="hidden" value="employee" />
      </form>
    </section>

    <aside class="col right">
      <div class="card hero">
        <img src="/images/BTlogo.png" alt="" class="hero-badge" onerror="this.style.display='none'">
        <h2>Bring the Fun!</h2>
        <p>Delight guests with games, music and community. Your dashboard keeps everything organized.</p>
        <ul>
          <li>Simple check-ins</li>
          <li>Automated schedules</li>
          <li>Instant updates</li>
        </ul>
      </div>
    </aside>
  </main>

  <!-- Firebase (compat) — must load BEFORE firebase-init.js -->
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- Your project config & helpers -->
  <script defer src="/firebase-init.js?v=2"></script>
  <script defer src="/firebase-fallback.js"></script>
  <script defer src="/login.js?v=uidfix9"></script>
  <script defer src="/login-return.js?v=1"></script>
  <script defer src="/debug-redirect.js?v=3"></script>
</body>
</html>
