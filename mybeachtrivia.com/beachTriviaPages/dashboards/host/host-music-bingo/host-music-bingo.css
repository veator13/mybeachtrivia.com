/* ===========================
   Theme · Reset · Utilities
   =========================== */
   :root{
    --bg: #0b0f15;
    --bg-elev: #0f1520;
    --panel: #111a27;
    --panel-2: #0d1420;
    --edge: #1f2a3a;
    --edge-2:#243349;
    --text: #e7eefc;
    --muted: #a6b3c7;
    --brand: #3b82f6;
    --brand-2:#2563eb;
    --brand-3:#60a5fa;
    --danger:#ef4444;
    --danger-2:#dc2626;
    --ok:#10b981;
    --ring: 0 0 0 3px rgba(59,130,246,.25);
  
    --radius: 14px;
    --r-sm: 10px;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --shadow-sm: 0 6px 16px rgba(0,0,0,.25);
  }
  
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 600px at 20% -10%, #122035 0%, #0b0f15 60%) no-repeat,
                var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  .hidden { display: none !important; }
  .muted { color: var(--muted); }
  
  /* ===========================
     Shell & Topbar
     =========================== */
  .app-shell { max-width: 1200px; margin: 0 auto; padding: 16px; }
  
  .topbar {
    position: sticky; top: 12px; z-index: 50;
    display:flex; align-items:center; justify-content:space-between;
    background: linear-gradient(180deg, rgba(18,26,39,.85), rgba(14,20,32,.85));
    border: 1px solid var(--edge);
    border-radius: var(--radius);
    padding: 12px 16px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(6px);
  }
  
  .brand { display:flex; align-items:center; gap:12px; }
  .logo-dot { width: 12px; height: 12px; border-radius: 50%; background: var(--brand-3); box-shadow: 0 0 18px rgba(96,165,250,.8); }
  .brand-title { margin:0; font-size: clamp(1rem, 1rem + 0.6vw, 1.25rem); font-weight: 700; letter-spacing:.2px; }
  
  .topbar-actions { display:flex; align-items:center; gap:10px; }
  .username { font-weight: 700; color:#d7e6ff; }
  
  /* ===========================
     Layout
     =========================== */
  .content {
    margin-top: 16px;
    display: grid;
    grid-template-columns: minmax(0, 1fr) 340px;
    gap: 16px;
  }
  
  .column-left { display: grid; gap: 16px; }
  .column-right { position: relative; }
  
  /* Cards */
  .card {
    background: linear-gradient(180deg, var(--panel), var(--panel-2));
    border: 1px solid var(--edge);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
  
  .card--panel { padding: 16px; }
  .card--sticky {
    position: sticky; top: 76px;
    padding: 16px;
  }
  
  .card-header { margin-bottom: 12px; }
  .card-title {
    margin: 0;
    font-size: clamp(1.05rem, 1rem + .4vw, 1.2rem);
    color: var(--brand-3);
    letter-spacing: .2px;
  }
  .card-subtitle { margin: 6px 0 0; color: var(--muted); font-size: .95rem; }
  
  /* ===========================
     Form & Inputs
     =========================== */
  .setup-form { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
  .form-row { display:flex; flex-direction:column; gap:6px; }
  label { font-size:.92rem; color:#cfe2ff; }
  .input {
    width:100%;
    background:#0c1320;
    color:#eef6ff;
    border:1px solid var(--edge);
    border-radius: var(--r-sm);
    padding:.6rem .7rem;
    font-size:.98rem;
    transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
  }
  .input:focus { outline:none; border-color: var(--brand); box-shadow: var(--ring); }
  .actions { margin-top: 4px; }
  
  /* Buttons */
  .btn {
    --bg: #1b2636;
    display:inline-flex; align-items:center; justify-content:center;
    gap:8px;
    background: var(--bg);
    color:#fff;
    border:1px solid var(--edge);
    border-radius: 10px;
    padding:.65rem 1rem;
    font-size:.95rem;
    line-height:1;
    cursor:pointer;
    box-shadow: var(--shadow-sm);
    transition: transform .05s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  }
  .btn:hover { transform: translateY(-1px); border-color: var(--edge-2); }
  .btn:active { transform: translateY(0); }
  
  .btn-primary { --bg: linear-gradient(180deg, var(--brand), var(--brand-2)); border-color: rgba(59,130,246,.45); }
  .btn-primary:hover { box-shadow: 0 10px 22px rgba(37,99,235,.22); }
  
  .btn-danger { --bg: linear-gradient(180deg, var(--danger), var(--danger-2)); border-color: rgba(239,68,68,.45); }
  .btn-ghost { background: transparent; border-color: var(--edge); color:#d7e6ff; }
  .btn-row { display:flex; flex-wrap:wrap; gap:10px; }
  
  /* ===========================
     Active Game Controls
     =========================== */
  .pill-group { display:flex; flex-wrap:wrap; gap:8px; }
  .pill {
    display:inline-flex; align-items:center; gap:8px;
    background:#0c1320; border:1px solid var(--edge); border-radius: 999px;
    padding:.35rem .65rem;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
  }
  .pill-label { color: var(--muted); font-size:.85rem; }
  .pill-value { font-weight:700; color:#dff0ff; }
  
  .control-grid {
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 10px;
  }
  .control-card {
    background: #0e1626;
    border:1px solid var(--edge);
    border-radius: var(--r-sm);
    padding: 14px;
  }
  .control-head { display:flex; align-items:center; justify-content:space-between; margin-bottom: 8px; }
  .control-title { margin:0; font-size:1rem; color:#bfe0ff; letter-spacing:.2px; }
  .now-playing {
    margin: 4px 0 10px;
    padding: 10px 12px;
    background:#0b1320;
    border:1px dashed var(--edge);
    border-radius: 10px;
    color:#eaf3ff;
  }
  
  /* ===========================
     QR / Join Panel
     =========================== */
  .qr-box{
    display:grid; place-items:center;
    width:100%; min-height: 260px; 
    background: #0b1320;
    border:1px dashed var(--edge);
    border-radius: 12px;
    padding: 10px;
  }
  .join-url{
    margin: 10px 0 0;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size:.92rem; line-height:1.25;
    background:#0a1220; color:#cfe6ff;
    border:1px solid var(--edge);
    border-radius: 8px;
    padding:8px 10px;
    word-break: break-all;
    user-select: all;
  }
  
  /* ===========================
     History
     =========================== */
  .history-list { display:grid; gap:10px; }
  .empty-state { margin: 6px 0; color: var(--muted); }
  .history-item{
    background: #0d1422;
    border: 1px solid var(--edge);
    border-radius: 12px;
    padding: 12px;
    display:grid; gap:6px;
  }
  .history-item h4 { margin:0; color:#bfe0ff; }
  .history-details{
    display:flex; flex-wrap:wrap; gap:8px 16px;
    font-size:.88rem; color: var(--muted);
  }
  .history-buttons{ text-align:right; }
  
  /* ===========================
     Footer
     =========================== */
  .footer { text-align:center; color: var(--muted); font-size:.9rem; margin: 18px 0 8px; }
  
  /* ===========================
     Responsive
     =========================== */
  @media (max-width: 1040px){
    .content { grid-template-columns: 1fr 320px; }
  }
  @media (max-width: 900px){
    .content { grid-template-columns: 1fr; }
    .card--sticky { position: static; }
  }
  @media (max-width: 680px){
    .setup-form { grid-template-columns: 1fr; }
    .control-grid { grid-template-columns: 1fr; }
  }
  